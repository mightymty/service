<html>
    <head>
        <meta charset="UTF-8">
        <title>Min HTML-sida med extern CSS</title>
        <link rel="stylesheet" href="css/style.css">
    </head>
    <h1>Rapportera arbetade timmar</h1>
    
    <form id="report-form">
        <label for="foretag">Företag:</label>
        <input type="text" id="foretag" name="foretag"><br><br>
        
        <label for="ordernummer">Ordernummer:</label>
        <input type="text" id="ordernummer" name="ordernummer"><br><br>
        
        <table>
            <tr>
                <th>Dag</th>
                <th>Typ av jobb</th>
                <th>TIM</th>
                <th>RES</th>
                <th>TRAKT</th>
                <th>MIL</th>
            </tr>
            <!-- Måndag -->
            <tr>
                <td>Måndag</td>
                <td><input type="text" name="jobb_mandag"></td>
                <td>
                    <input type="number" name="tim_mandag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="res_mandag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="trakt_mandag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="mil_mandag" min="1" max="99" onchange="updateSummary()">
                </td>
            </tr>
            <!-- Tisdag -->
            <tr>
                <td>Tisdag</td>
                <td><input type="text" name="jobb_tisdag"></td>
                <td>
                    <input type="number" name="tim_tisdag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="res_tisdag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="trakt_tisdag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="mil_tisdag" min="1" max="99" onchange="updateSummary()">
                </td>
            </tr>
            <!-- Onsdag -->
            <tr>
                <td>Onsdag</td>
                <td><input type="text" name="jobb_onsdag"></td>
                <td>
                    <input type="number" name="tim_onsdag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="res_onsdag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="trakt_onsdag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="mil_onsdag" min="1" max="99" onchange="updateSummary()">
                </td>
            </tr>
            <!-- Torsdag -->
            <tr>
                <td>Torsdag</td>
                <td><input type="text" name="jobb_torsdag"></td>
                <td>
                    <input type="number" name="tim_torsdag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="res_torsdag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="trakt_torsdag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="mil_torsdag" min="1" max="99" onchange="updateSummary()">
                </td>
            </tr>
            <!-- Fredag -->
            <tr>
                <td>Fredag</td>
                <td><input type="text" name="jobb_fredag"></td>
                <td>
                    <input type="number" name="tim_fredag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="res_fredag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="trakt_fredag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="mil_fredag" min="1" max="99" onchange="updateSummary()">
                </td>
            </tr>
            <!-- Lördag -->
            <tr>
                <td>Lördag</td>
                <td><input type="text" name="jobb_lordag"></td>
                <td>
                    <input type="number" name="tim_lordag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="res_lordag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="trakt_lordag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="mil_lordag" min="1" max="99" onchange="updateSummary()">
                </td>
            </tr>
            <!-- Söndag -->
            <tr>
                <td>Söndag</td>
                <td><input type="text" name="jobb_sondag"></td>
                <td>
                    <input type="number" name="tim_sondag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="res_sondag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="trakt_sondag" min="1" max="12" onchange="updateSummary()">
                </td>
                <td>
                    <input type="number" name="mil_sondag" min="1" max="99" onchange="updateSummary()">
                </td>
            </tr>
            <tr>
                <td>Summa</td>
                <td></td>
                <td id="sum_tim">0</td>
                <td id="sum_res">0</td>
                <td id="sum_trakt">0</td>
                <td id="sum_mil">0</td>
            </tr>
        </table>
        
        <label for="anmarkningar">Anmärkningar:</label><br>
        <textarea id="anmarkningar" name="anmarkningar" rows="4" cols="50"></textarea><br><br>
        
        <label for="namn">Namn/namn:</label><br>
        <input type="text" id="namn" name="namn"><br><br>
        
        <label for="ort">Ort:</label><br>
        <input type="text" id="ort" name="ort"><br><br>
        
        <input type="submit" value="Skicka rapport">
    </form>
    
   
</body>
<body>
    <h1>Beställarens underskrift</h1>
    <div>
        <button id="clear-button">Clear</button>
        <button id="save-button">Save</button>
    </div>
    <div id="signature-container">
        <canvas id="signature-pad" width="500" height="80"></canvas>
    </div>

    <script>
        var canvas = document.getElementById('signature-pad');
        var clearButton = document.getElementById('clear-button');
        var saveButton = document.getElementById('save-button');
        var ctx = canvas.getContext('2d');
        var drawing = false;
        var isDoubleSize = false;
        var signatureData = null;

        function startPosition(e) {
            drawing = true;
            ctx.lineWidth = 2; // Set your desired line width
            ctx.strokeStyle = '#000'; // Set your desired line color
            ctx.beginPath();
            ctx.moveTo(e.clientX - canvas.getBoundingClientRect().left, e.clientY - canvas.getBoundingClientRect().top);
        }

        function endPosition() {
            drawing = false;
            ctx.closePath();
        }

        function draw(e) {
            if (!drawing) return;
            ctx.lineTo(e.clientX - canvas.getBoundingClientRect().left, e.clientY - canvas.getBoundingClientRect().top);
            ctx.stroke();
        }

        canvas.addEventListener('mousedown', startPosition);
        canvas.addEventListener('mouseup', endPosition);
        canvas.addEventListener('mousemove', draw);

        canvas.addEventListener('touchstart', function(e) {
            e.preventDefault();
            if (!isDoubleSize) { // Toggle size on mobile only if it's not double size
                toggleSize();
            }
            startPosition(e.touches[0]);
        });

        canvas.addEventListener('touchend', endPosition);

        canvas.addEventListener('touchmove', function(e) {
            e.preventDefault();
            draw(e.touches[0]);
        });

        clearButton.addEventListener('click', function() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            // Clear the signature data
            signatureData = null;
        });

        saveButton.addEventListener('click', function() {
            var image = canvas.toDataURL("image/png");
            // You can send the image data to a server or do something else with it here.
            console.log(image);
        });

        canvas.addEventListener('dblclick', function() {
            if (!isDoubleSize) {
                toggleSize();
            }
        });

        function toggleSize() {
            if (isDoubleSize) {
                canvas.width = 500;
                canvas.height = 80;
                isDoubleSize = false;
                // Redraw the signature data if it exists
                if (signatureData) {
                    ctx.drawImage(signatureData, 0, 0, canvas.width, canvas.height);
                }
            } else {
                canvas.width = 1000;
                canvas.height = 160;
                isDoubleSize = true;
            }
        }

        // Save the signature data when it's drawn
        canvas.addEventListener('mouseup', function() {
            signatureData = new Image();
            signatureData.src = canvas.toDataURL("image/png");
        });
    </script>
</body>
</html>